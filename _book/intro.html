<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Regressão com R</title>
  <meta name="description" content="Curso de Regressão usando R.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Regressão com R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Curso de Regressão usando R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Regressão com R" />
  
  <meta name="twitter:description" content="Curso de Regressão usando R." />
  

<meta name="author" content="Fernando Meireles">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ENAP | Regressão com R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Sobre o curso</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introdução</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#visualizando-relacoes-entre-duas-variaveis"><i class="fa fa-check"></i><b>1.1</b> Visualizando relações entre duas variáveis</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#visualizando-relacoes-entre-variaveis-em-um-banco"><i class="fa fa-check"></i><b>1.2</b> Visualizando relações entre variáveis em um banco</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#interpretando-os-resultados-de-um-modelo-linear"><i class="fa fa-check"></i><b>1.3</b> Interpretando os resultados de um modelo linear</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#obtendo-resultados-detalhados"><i class="fa fa-check"></i><b>1.4</b> Obtendo resultados detalhados</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#acessando-informacoes-de-um-objeto-lm"><i class="fa fa-check"></i><b>1.5</b> Acessando informações de um objeto lm</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#exercicios"><i class="fa fa-check"></i>Exercícios</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Regressão com R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1">
<h1><span class="header-section-number">Aula 1</span> Introdução</h1>
<p>O <code>R</code> é um ambiente de programação desenvolvido por originalmente <a href="http://www.statisticsviews.com/details/feature/8585391/Created-by-statisticians-for-statisticians-How-R-took-the-world-of-statistics-by.html">por estatísticos, para estatísticos</a>. Por conta disso, uma de suas maiores potencialidades é precisamente o vasto conjunto de facilidades que ele oferece para realizarmos análises de dados – e, particularmente, para estimarmos modelos de regressão.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>Nesta primeira aula, veremos um dos modelos mais simples, mas também um dos mais utilizados, de regressão: o modelo linear simples, estimado por mínimos quadrados ordinários (MQO).<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> Entre outros, aprenderamos a visualizar relações lineares bivariadas; a usar a função básica para estimar modelos lineares, <code>lm</code>; e a obter resultados detalhados de um modelo. Também usaremos alguns dados, que estão na pasta de materiais desta aula.</p>
<div id="visualizando-relacoes-entre-duas-variaveis" class="section level2">
<h2><span class="header-section-number">1.1</span> Visualizando relações entre duas variáveis</h2>
<p>Podemos usar gráficos para visualizar relações entre variáveis. Podemos, por exemplo, criar duas variáveis contínuas, geradas aleatoriamente com a função <code>rnorm</code>, e plotar sua relação com um gráfico de pontos.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">set.seed</span>(<span class="dv">123</span>) <span class="co"># Para replicar o conteudo da aula</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">y &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">plot</span>(y <span class="op">~</span><span class="st"> </span>x)</a></code></pre></div>
<p><img src="regressao_com_r_files/figure-html/unnamed-chunk-1-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>É possível ver que as variáveis que criamos, <code>y</code> e <code>x</code>, não parecem ter relação. Na verdade, os pontos no gráficos estão dispersos, o que dificulta detectar algum padrão.</p>
<p>Para investigarmos isso detidamente, usamos um modelo linear estimado por mínimos quadrados ordinários (MQO). A função que estima esse tipo de modelo chama-se <code>lm</code>, e ela está contida no <code>R-base</code>. Portanto, não precisamos carregar nenhum pacote para usá-la, basta executar o seguinte código:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>x)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ x)
## 
## Coefficients:
## (Intercept)            x  
##    -0.10280     -0.05247</code></pre>
<p>A utilização da função <code>lm</code> é simples. Em primeiro lugar, precisamos passar como argumento da função uma fórmula contendo a especificação do nosso modelo. No exemplo, <code>y</code> é nossa variável dependente e, assim, aparece do lado direito do operador <code>~</code>. <code>x</code>, dessa forma, é nossa variável independente, ou explicativa, ou, ainda, preditora.</p>
<p>Podemos salvar os resultados de um modelo em um objeto para facilitar a sua manipulação.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">meu_modelo &lt;-<span class="st"> </span><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>x)</a></code></pre></div>
<p>Uma das vantagens disso é que, agora, podemos usá-lo para traçar um reta com valores preditos de <code>y</code> em relação a <code>x</code>, que resume a relação entre ambas, no gráfico que criamos anteriormente. Para tanto, usamos apenas a função <code>abline</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">plot</span>(y <span class="op">~</span><span class="st"> </span>x)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw">abline</span>(meu_modelo)</a></code></pre></div>
<p><img src="regressao_com_r_files/figure-html/fig1-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>Realmente, não há relação substantiva entre <code>y</code> e <code>x</code>, como indica a melhor reta estimada via MQO.</p>
</div>
<div id="visualizando-relacoes-entre-variaveis-em-um-banco" class="section level2">
<h2><span class="header-section-number">1.2</span> Visualizando relações entre variáveis em um banco</h2>
<p>Daqui até o fim dessa aula, usaremos um banco de dados como exemplo para praticarmos o básico de construção de modelos bivariados. Esse arquivo chama-se X, e está nos materiais complementares dessa aula. Como ele está no formato <code>.csv</code>, podemos carregá-lo com a função <code>read_csv</code> do pacote <code>readr</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co"># Substituir</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">banco &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw">tibble</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> <span class="kw">rnorm</span>(<span class="dv">100</span>) <span class="op">+</span><span class="st"> </span>x)</a></code></pre></div>
<p>Usando <code>names</code> e <code>head</code>, podemos ver algumas das variáveis desse <code>data.frame</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">names</span>(banco)</a></code></pre></div>
<pre><code>## [1] &quot;x&quot; &quot;y&quot;</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">head</span>(banco)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##        x      y
##    &lt;dbl&gt;  &lt;dbl&gt;
## 1  2.20   1.48 
## 2  1.31   0.560
## 3 -0.265 -1.20 
## 4  0.543 -0.509
## 5 -0.414 -0.851
## 6 -0.476 -0.145</code></pre>
<p>Em particular, vamos trabalhar com duas dessas variáveis: a X e a Y. Nosso objetivo será investigar se existe relação entre X e Y usando um modelo linear por MQO. Como essas variáveis estão dentro de um banco de dados, existe um modo mais fácil de visualizar a relação entre elas usando o pacote <code>ggplot2</code>. Especificamente, esse pacote contém um <code>geom</code> chamado <code>geom_smooth</code> que serve para plotar uma curva trançando a relação entre duas (ou mais, como veremos adiante) variáveis. Criamos esse gráfico com o seguinte código:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="kw">ggplot</span>(banco, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="co"># Adiciona os pontos</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="co"># Adiciona a curva, estimada por um modelo linear</span></a></code></pre></div>
<p><img src="regressao_com_r_files/figure-html/unnamed-chunk-6-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>Como se depreende do código acima, só precisamos especificar um método na função <code>geom_smooth</code> que, no caso, é <code>&quot;lm&quot;</code>, de <em>linear model</em>. Mais importante, nesse caso parece haver uma clara associação entre as duas variáveis.</p>
</div>
<div id="interpretando-os-resultados-de-um-modelo-linear" class="section level2">
<h2><span class="header-section-number">1.3</span> Interpretando os resultados de um modelo linear</h2>
<p>Para examinarmos formalmente a relação entre X e Y, vamos recorrer novamente à função <code>lm</code>. Como temos um <code>data.frame</code> agora, e não mais dois vetores em objetos diferentes, usaremos um argumento da função <code>lm</code> para passar as variáveis do banco para ela. O argumento chama-se <code>data =</code>, e precisamos apenas passar a ele o nome do <code>data.frame</code> que contém nossas variáveis.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">meu_modelo &lt;-<span class="st"> </span><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>x, <span class="dt">data =</span> banco)</a></code></pre></div>
<p>Note que podemos estimar o mesmo modelo sem usar o argumento <code>data</code>, mas precisaremos usar em seu lugar indexadores (o que é mais trabalhoso e não recomendado):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">lm</span>(banco<span class="op">$</span>y <span class="op">~</span><span class="st"> </span>banco<span class="op">$</span>x)</a></code></pre></div>
<p>Para exibir de forma condensada os resultados do nosso modelo salvo em <code>meu_modelo</code>, basta digitar o nome do objeto no console:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">meu_modelo</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ x, data = banco)
## 
## Coefficients:
## (Intercept)            x  
##    -0.03031      0.95094</code></pre>
<p>Os dois modos produzem o mesmo resultado, ainda que o segundo seja o mais adequado. Mas, afinal, o que significa esse output da função <code>lm</code>. Podemos resumi-lo em duas partes:</p>
<ul>
<li><ol style="list-style-type: decimal">
<li>Abaixo de <code>Call:</code>, a função <code>lm</code> apenas exibe a chamada que usamos para rodar nosso modelo, incluindo aqui a fórmula usada;</li>
</ol></li>
<li><ol start="2" style="list-style-type: decimal">
<li>O mais importante, contudo, segue abaixo de <code>Coefficients:</code>, indicando a estimativa dos parâmetros, ou coeficientes, do efeito da variável independente, X, sobre a variável dependente, Y, além de um intercepto (ou constante).</li>
</ol></li>
</ul>
<p>Com isso, podemos concluir rapidamente duas coisas: primeiro, a associação entre Y e X é positiva, uma vez que um aumento da variável X em uma unidade prediz um aumento de 0.9509352 unidades de Y; segundo, quando o valor de X é igual a zero, nosso modelo prediz que o valor de Y será igual a -0.0303123. Obviamente, isso condiz o gráfico que fizemos anteriormente.</p>
</div>
<div id="obtendo-resultados-detalhados" class="section level2">
<h2><span class="header-section-number">1.4</span> Obtendo resultados detalhados</h2>
<p>Ainda que exibir os resultados da forma como fizemos seja útil para uma inspeção rápida, existem outras informações úteis que precisamos acessar para avaliarmos um modelo. Para obtê-las, usamos a função <code>summary</code>, que já vimos anteriormente.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">summary</span>(meu_modelo)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ x, data = banco)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2.4412 -0.6537  0.0080  0.7412  2.5266 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -0.03031    0.10515  -0.288    0.774    
## x            0.95094    0.11036   8.617  1.2e-13 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1.043 on 98 degrees of freedom
## Multiple R-squared:  0.4311, Adjusted R-squared:  0.4253 
## F-statistic: 74.25 on 1 and 98 DF,  p-value: 1.204e-13</code></pre>
<p>Afora a linha iniciada por <code>Call:</code>, que já vimos, essa função retorna uma série de novas informações. Vamos em partes:</p>
<ul>
<li><ol style="list-style-type: decimal">
<li><code>Residuals:</code> exibe algumas estatísticas sobre a distribuição dos resíduos de nosso modelo, isto é, toda variação em Y que não é explicada pelas nossas variáveis independentes – e que, formalmente, são consideradas absorvidas pelo termo de erro;</li>
</ol></li>
<li><ol start="2" style="list-style-type: decimal">
<li><code>Coefficients:</code> reporta, aqui também, informações sobre as estimativas e inferências de nosso modelo, incluindo aqui a estimativa do efeito de nossas variáveis independentes e intercepto (abaixo de <code>Estimate</code>); o erro-padrão (<code>Std. Error</code>) de cada estimativa, que indica a incerteza envolvida nelas; T-valor, <code>t value</code>, uma métrica normalmente usada para calcular P-valores em modelos de regressão (i.e., que é igual à estimativa divido pelo erro-padrão); e, finalmente, P-valor, <code>Pr(&gt;|t|)</code>, a famosa estatística usada para testar se o efeito indicado por cada estimativa é (P-valor &gt; 0.05) ou não (P-valor &lt; 0.05) fruto de variação aleatória.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>;</li>
</ol></li>
<li><ol start="3" style="list-style-type: decimal">
<li><code>Signif. codes:</code> é a legenda para indicar os asteríscos que, eventualmente, aparecem nos coeficientes para indicar que uma estimativa possui P-valor menor que um determinado patamar;</li>
</ol></li>
<li><ol start="4" style="list-style-type: decimal">
<li><code>Residual standard error:</code> indica resumidamente quanta variação nosso modelo não dá conta de explicar, numa escala em que 0 indica que o modelo prediz exatamente o valor de nossa variável dependente, e valores maiores, o contrário; normalmente, é usada como medida de ajuste para comparar o desempenho preditivo de modelos; <code>degrees of freedom</code> (i.e., graus de liberdade), por outro lado, é o número observações usadas para estimar o modelo menos o número de parâmetros estimados (no nosso caso, 100 observações e dois parâmetros, a estimativa de X e do intercepto), útil para calcular P-valores e outras estatísticas;</li>
</ol></li>
<li><ol start="5" style="list-style-type: decimal">
<li><code>Multiple R-squared:</code> e <code>Adjusted R-squared:</code> são métricas simples que indicam a quantia de variação explicada pelo nosso modelo, onde 1 indica que toda a variação é explicada (e, logo, nossas variáveis predizem perfeitamente os valores de Y);</li>
</ol></li>
<li><ol start="6" style="list-style-type: decimal">
<li>Por fim, <code>F-statistic:</code> indica o resultado de um teste que serve para indicar se a inclusão de variáveis no nosso modelo possui melhor poder preditivo do que um modelo sem variáveis, apenas com intercept (no nosso caso, como o P-valor desse teste é menor que 0.05, isso é verdade).</li>
</ol></li>
</ul>
<p>Por ora, não vamos nos deter nessas estatísticas, mas elas serão extremamente úteis em aplicações reais, seja para saber quanta variação é explicada pelo nosso modelo, indicar se um coeficiente é significativo, ou mesmo realizar inferências.</p>
</div>
<div id="acessando-informacoes-de-um-objeto-lm" class="section level2">
<h2><span class="header-section-number">1.5</span> Acessando informações de um objeto lm</h2>
<p>Assim como outras informações no <code>R</code>, nosso modelo salvo no objeto <code>meu_modelo</code> contém diversas informações dentro dele. Por exemplo, podemos extrair um vetor com nossas estimativas usando:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">meu_modelo<span class="op">$</span>coefficients</a></code></pre></div>
<pre><code>## (Intercept)           x 
## -0.03031231  0.95093517</code></pre>
<p>Essa e outras informações salvas dentro do objeto podem ser vistas com <code>names</code>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">names</span>(meu_modelo)</a></code></pre></div>
<pre><code>##  [1] &quot;coefficients&quot;  &quot;residuals&quot;     &quot;effects&quot;       &quot;rank&quot;         
##  [5] &quot;fitted.values&quot; &quot;assign&quot;        &quot;qr&quot;            &quot;df.residual&quot;  
##  [9] &quot;xlevels&quot;       &quot;call&quot;          &quot;terms&quot;         &quot;model&quot;</code></pre>
<p>Também é possível salvar o <em>output</em> da função <code>summary</code> para fazer a mesma coisa.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">resumo &lt;-<span class="st"> </span><span class="kw">summary</span>(meu_modelo)</a></code></pre></div>
<p>Feito isso, temos à disposição todas as estatísticas reportadas pela função <code>summary</code> dentro de um mesmo objeto, o que pode ser usado, por exemplo, para extrair rapidamente apenas o R-quadrado de nosso modelo, como abaixo.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">resumo<span class="op">$</span>r.squared</a></code></pre></div>
<pre><code>## [1] 0.4310566</code></pre>
<p>Isso será bastante útil em algumas situações que veremos adiante. Por enquanto, tente explorar as informações contidas dentro dos objetos <code>resumo</code> e <code>meu_modelo</code> e tente identificar o que indicam.</p>
</div>
<div id="exercicios" class="section level2 unnumbered">
<h2>Exercícios</h2>

</div>
</div>








<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Por exemplo, o <em>R CRAN Task View</em> fornece vários compilados com materiais e pacotes para <code>R</code> sobre temas como análise de <a href="https://cran.r-project.org/web/views/TimeSeries.html">séries temporais</a> e <a href="https://cran.r-project.org/web/views/Econometrics.html">econometria</a> (que nada mais é do que um subconjunto de ferramentas estatísticas mais apropriadas para análises normalmente feitas nas Ciências Sociais).<a href="intro.html#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p>Para um explicação rápida de como esse método de estimação funciona, <a href="https://fmeireles.shinyapps.io/modelagem_r/">ver aqui</a>.<a href="intro.html#fnref2" class="footnote-back">↩</a></p></li>
<li id="fn3"><p>A título de curiosidade, o P-valor é calculado com base na estatística T de cada variável e outra informação que cobriremos a seguir, os graus de liberdade do modelo.<a href="intro.html#fnref3" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["regressao_com_r.pdf"],
"toc": {
"collapse": "subsection"
},
"search": true
});
});
</script>

</body>

</html>
